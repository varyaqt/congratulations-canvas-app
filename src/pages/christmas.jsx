import "@/styles"

import Header from "@/layouts/Header"
import Greet from "@/components/Greet"
import Button from "@/components/Button"

export const metadata = {
  title: "Новый год",
}

const congratulations = [
  {
    category: "newyear",
    text: "С Новым годом поздравляем, Счастья в жизни Вам желаем, Много добрых пожеланий, Исполненья всех мечтаний! Самых ярких впечатлений, Самых сказочных мгновений. Пусть Вам этот год несетМного радостных хлопот!",
  },
  {
    category: "newyear",
    text: "Пришла пора, когда всем можноО новых планах помечтать, Задумать что-то осторожноДа всё под елкой загадать. Рад я поздравить с Новым годом! А поздним этим вечеркомВас Дед Мороз пусть мимоходомОдарит счастьем и теплом. К вам прибежит оленей стадо. . . Они подарки принесут. Реки добра вам и услады, У вас царит пускай уют.",
  },
  {
    category: "newyear",
    text: "С Новым годом! Желаю насыщенного, плодотворного и успешного года. Пускай каждый день наполняют счастье, любовь, добро, радость, удача, гармония и мир. Пусть все родные люди будут здоровы и безмерно счастливы!",
  },
  {
    category: "newyear",
    text: "Пусть в новый год случится чудо —В душе зажгутся огонькиИ целый год у вас не будетНи огорчений, ни тоски. Пусть елка с яркою звездоюВ ваш дом удачу принесет, Любовь и крепкое здоровье. Пусть год вам сказочно везет. Под бой курантов загадайтеСвои заветные мечтыИ в дом свой поскорей впускайтеГод радости и доброты.",
  },
  {
    category: "newyear",
    text: "С Новым годом! Волшебства, Смеха, счастья и тепла, Мира, радостей, достаткаИ во всех делах порядка! Пусть все серое, плохоеСтарый год возьмет с собою. Впредь лишь светлые мгновеньяСоздают пусть настроенье!",
  },
  {
    category: "newyear",
    text: "Желаю мира и добра, Любви, душевного тепла! Пускай вам этот новый годУспех и радость принесет! Пусть новый год откроет двериВ мир волшебства, заботы, веры. И всё хорошее начнется! Удача пусть вам улыбнется!",
  },
  {
    category: "newyear",
    text: "С Новым годом поздравляюИ от всей души желаюВеселиться и смеяться, Ни на что не обижаться, Жить легко и без заботВесь грядущий новый год. Наслаждаться каждым мигомИ дарить свое тепло, Быть всегда на позитиве, Чтоб всегда во всём везло! С Новым годом! С новым счастьем! Смеха, мира и добра! Пусть обходят все ненастья, Жизнь одарит вас сполна!",
  },
  {
    category: "newyear",
    text: "С Новым годом, с новым счастьем, С новой жизнью в этот год. Пусть лишь радость и удачуОн всем людям принесёт. Будьте счастливы, любимы, Беззаботны и смелы. Пусть все сложится отлично, И чтоб все сбудутся мечты!",
  },
  {
    category: "newyear",
    text: "Желаю в этот новый годПоменьше грусти и забот, Побольше счастья и добра, Улыбок, нежности, тепла! Чтоб были верными друзьяИ очень дружною семья, Чтоб каждый день удачным был, И чтоб на всё хватало сил! Ну а ещё пусть новый годПобольше денег принесёт, Здоровья, мира и любви, Чтоб в сердце не было зимы!",
  },
  {
    category: "newyear",
    text: "Пусть счастье в руки упадетИ, как снежинка, не растает. Пусть сбудется под новый годВсё то, о чём душа мечтает! Здоровье будет пусть, любовь, Всё остальное — достижимо. А то, что портит людям кровь, Пусть навсегда проходит мимо!",
  },
  {
    category: "newyear",
    text: "Мы, словно дети, чуда ожидаем, Не глядя на свой возраст, на года. И новый год всё так же ожидаем, И чуда ждем и радости всегда! Пусть этот зимний и волшебный праздникИсполнит всем желанные мечты:Любви, здоровья, блага всем подарит, Добра, финансов, мира, красоты! И пусть даст то, что каждый загадаетПод бой курантов в полночь за столом. А всё плохое — прежний забирает, Махнув нам на прощание крылом!",
  },
  {
    category: "newyear",
    text: "Пусть год уходящий с собой заберетПроблемы, недуги, ненастье, А новый − здоровье и радость несет, Любовь доброту и участье! Чудес новогодних, добра, волшебства, Уюта, семейного счастья, Улыбок, веселья, достатка, тепла, Не знать ни забот, ни напастей.",
  },
  {
    category: "newyear",
    text: "Поздравляю с Новым годом! Желаю, чтоб в вашем доме круглый год был уют, любовь и счастье. Пусть новый год принесёт много радостных и счастливых дней! Желаю, чтобы в новом году исполнились все ваши мечты и желания!",
  },
  {
    category: "newyear",
    text: "С Новым годом! С новым счастьем! Никогда не знать ненастья, Верить в чудо и добро, Чтоб плохое всё ушло! Жить и жизнью наслаждаться, Никогда не огорчаться, Быть любимыми, любитьИ тепло души дарить. Добрых лишь людей встречать, О заботах не ворчать, Верных, преданных друзей, Самых лучших, светлых дней!",
  },
  {
    category: "newyear",
    text: "Сказка в двери постучится, Снег на землю упадёт, Чудо, наконец, свершится, И наступит новый год. Пусть он будет добрым, тёплым, Пусть искрится счастья свет, Пусть в нём будет много взлётов, Много радости, побед! Смех, любовь, успех, удачуПусть подарит Дед Мороз, Долларов мешок в придачу, И букет из сотни роз! Праздник пусть несёт веселье, Радость дням и сладость снам, Здравие, тепло, везенье! С Новым годом! Счастья вам!",
  },
  {
    category: "newyear",
    text: "С Новым годом! Всем удачи, Сил, здоровья и добра! Праздник сказочный, а значит, Пусть чудес придет пора. Год пусть, словно мандарином, Угощает счастьем всех, Новогодним серпантиномВ руки падает успех.",
  },
  {
    category: "newyear",
    text: "С Новым годом поздравляю, Теплоты в душе желаю, Чтобы дома был уют, Море сладостных минут! Чтоб удача улыбалась, А мечта чтоб воплощалась, Исполнялись все капризы, Ждало счастье и сюрпризы!",
  },
  {
    category: "newyear",
    text: "Поздравляю с новым годомИ желаю вам добра, Много денег, позитиваИ семейного тепла. Будет год пускай успешным, Много счастья принесет. Воплотит пусть все желаньяЭтот славный новый год.",
  },
  {
    category: "newyear",
    text: "Пусть несет вам новый годМоре радостных забот, Счастье новое, удачу, Стать еще чуть-чуть богаче! Верить в чудо, верить в сказку, Да дарить любовь и ласку, Улыбаться и смеяться, Просто жизнью наслаждаться! Чтобы ёлочка светилась, Что загадано — свершилось, С новым годом от души, Мира вам, большой любви!",
  },
  {
    category: "newyear",
    text: "Вот растаял старый год, Как снежинка на ладошке. Новый год спешит насыпатьСчастья в каждое окошко. Пусть он радость принесетОптимизм, задор, весельеИ, как жемчуг, соберетВсе желанья в ожерелье. Пусть исполнит всё-всё-всё, Что задумывалось вами, Жизнь наполнит добротой, Волшебством и чудесами!",
  },
]

const addNewlinesBeforeCapitalLetters = (text) => {
  // Исключения - слова/фразы, перед которыми не нужно добавлять перенос строки
  const exceptions = ["Вам", "Моро", "Дед", "С Новым годом", "Новым годом"]

  // Временная замена исключений
  let processedText = text
  const markers = {}

  exceptions.forEach((exception, index) => {
    const marker = `%%EXCEPTION_${index}%%`
    markers[marker] = exception
    processedText = processedText.replace(new RegExp(exception, "g"), marker)
  })

  // Добавляем переносы перед заглавными, кроме начала строки
  processedText = processedText
    .replace(/^([А-ЯЁ])/, "$1")
    .replace(/([^А-ЯЁ\n])([А-ЯЁ])/g, "$1\n$2")

  // Восстанавливаем исключения
  Object.entries(markers).forEach(([marker, exception]) => {
    processedText = processedText.replace(new RegExp(marker, "g"), exception)
  })

  return processedText
}

// Обрабатываем все тексты поздравлений
const processedCongratulations = congratulations.map((item) => ({
  ...item,
  text: addNewlinesBeforeCapitalLetters(item.text),
}))

export default function () {
  return (
    <>
      <Header />
      <div className="congratulations__inner">
        <Button href={"/"} label={"Назад"}></Button>
        <ul
          className="congratulations__list"
          style={{ whiteSpace: "pre-line" }}
        >
          {processedCongratulations.map((item, index) => (
            <li key={index} className="congratulations__item">
              <Greet text={item.text} />
            </li>
          ))}
        </ul>
      </div>
    </>
  )
}
